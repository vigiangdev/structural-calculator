(function(e){function t(t){for(var a,n,o=t[0],u=t[1],l=t[2],d=0,p=[];d<o.length;d++)n=o[d],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&p.push(r[n][0]),r[n]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);c&&c(t);while(p.length)p.shift()();return i.push.apply(i,l||[]),s()}function s(){for(var e,t=0;t<i.length;t++){for(var s=i[t],a=!0,o=1;o<s.length;o++){var u=s[o];0!==r[u]&&(a=!1)}a&&(i.splice(t--,1),e=n(n.s=s[0]))}return e}var a={},r={app:0},i=[];function n(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=a,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(n.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(s,a,function(t){return e[t]}.bind(null,a));return s},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var c=u;i.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var a=s("85ec"),r=s.n(a);r.a},2080:function(e,t,s){"use strict";var a=s("a906"),r=s.n(a);r.a},"401a":function(e,t,s){"use strict";var a=s("8e3b"),r=s.n(a);r.a},"56d7":function(e,t,s){"use strict";s.r(t);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("Navbar"),s("router-view",{staticClass:"mt-3"})],1)},i=[],n=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("nav",{staticClass:"navbar navbar-expand-lg navbar-dark bg-dark"},[s("div",{staticClass:"container"},[s("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"home"}}},[e._v("Structaculator")]),e._m(0)],1)])},o=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])}],u={data:function(){return{}}},l=u,c=s("2877"),d=Object(c["a"])(l,n,o,!1,null,"de6a3a82",null),p=d.exports,m={components:{Navbar:p}},v=m,f=(s("034f"),Object(c["a"])(v,r,i,!1,null,null,null)),y=f.exports,g=s("8c4f"),b=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("h1",[e._v("Seismic Design Map")]),s("div",{staticClass:"form mt-4"},[s("form",{},[s("div",{staticClass:"form-row"},[s("div",{staticClass:"col-lg-4 mb-2"},[s("label",{staticClass:"sr-only",attrs:{for:"reference"}},[e._v("Reference")]),s("div",{staticClass:"input-group"},[e._m(0),s("select",{directives:[{name:"model",rawName:"v-model",value:e.query.params.reference,expression:"query.params.reference"}],staticClass:"custom-select",attrs:{id:"reference",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.query.params,"reference",t.target.multiple?s:s[0])}}},e._l(e.query.reference.options,(function(t){return s("option",{key:t.query,domProps:{value:t.query}},[e._v(e._s(t.name))])})),0)])]),s("div",{staticClass:"col-lg-4 mb-2"},[s("label",{staticClass:"sr-only",attrs:{for:"risk-category"}},[e._v("Risk Category")]),s("div",{staticClass:"input-group"},[e._m(1),s("select",{directives:[{name:"model",rawName:"v-model",value:e.query.params.riskCategory,expression:"query.params.riskCategory"}],staticClass:"custom-select",attrs:{id:"risk-category",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.query.params,"riskCategory",t.target.multiple?s:s[0])}}},e._l(e.query.riskCategory.options,(function(t,a){return s("option",{key:a,domProps:{value:t}},[e._v(e._s(t))])})),0)])]),s("div",{staticClass:"col-lg-4 mb-2"},[s("label",{staticClass:"sr-only",attrs:{for:"site-class"}},[e._v("Site Class")]),s("div",{staticClass:"input-group"},[e._m(2),s("select",{directives:[{name:"model",rawName:"v-model",value:e.query.params.siteClass,expression:"query.params.siteClass"}],staticClass:"custom-select",attrs:{id:"site-class",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.query.params,"siteClass",t.target.multiple?s:s[0])}}},e._l(e.query.siteClass.options,(function(t){return s("option",{key:t.query,domProps:{value:t.query}},[e._v(e._s(t.name))])})),0)])])]),s("div",{staticClass:"form-row"},[s("div",{staticClass:"col-lg-4 mb-2"},[s("label",{staticClass:"sr-only",attrs:{for:"title"}},[e._v("Project Title")]),s("div",{staticClass:"input-group"},[e._m(3),s("input",{directives:[{name:"model",rawName:"v-model",value:e.query.params.title,expression:"query.params.title"}],staticClass:"form-control",attrs:{type:"text",id:"title",placeholder:"(Optional)"},domProps:{value:e.query.params.title},on:{input:function(t){t.target.composing||e.$set(e.query.params,"title",t.target.value)}}})])]),s("div",{staticClass:"input-group col-lg-7 mb-2"},[s("label",{staticClass:"sr-only",attrs:{for:"location"}},[e._v("Location")]),s("div",{staticClass:"input-group"},[s("div",{staticClass:"input-group-prepend"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.locationType,expression:"locationType"}],staticClass:"input-group-text",attrs:{id:"location",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.locationType=t.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"address"}},[e._v("Address")]),s("option",{attrs:{value:"coordinates"}},[e._v("Coordinates")])])]),"address"===e.locationType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.queryAddress.address,expression:"queryAddress.address"}],staticClass:"form-control",attrs:{type:"text","aria-label":"Address"},domProps:{value:e.queryAddress.address},on:{keyup:function(t){return e.getLatLong(e.queryAddress.address)},input:function(t){t.target.composing||e.$set(e.queryAddress,"address",t.target.value)}}}):e._e(),"coordinates"===e.locationType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.query.params.latitude,expression:"query.params.latitude"}],staticClass:"form-control",attrs:{placeholder:"Latitude",type:"text","aria-label":"Latitude"},domProps:{value:e.query.params.latitude},on:{keyup:function(t){e.queryAddress.address=null},input:function(t){t.target.composing||e.$set(e.query.params,"latitude",t.target.value)}}}):e._e(),"coordinates"===e.locationType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.query.params.longitude,expression:"query.params.longitude"}],staticClass:"form-control",attrs:{placeholder:"Longitude",type:"text","aria-label":"Longitude"},domProps:{value:e.query.params.longitude},on:{keyup:function(t){e.queryAddress.address=null},input:function(t){t.target.composing||e.$set(e.query.params,"longitude",t.target.value)}}}):e._e()]),e.addressDropdown?s("div",{staticClass:"position-relative w-100 address"},[s("ul",{staticClass:"list-group"},e._l(e.queryAddress.addressList,(function(t,a){return s("li",{key:a,staticClass:"list-group-item address-item",on:{mouseover:function(t){e.addressHover=!0},mouseleave:function(t){e.addressHover=!1},click:e.selectAddress}},[e._v(e._s(t.formatted_address))])})),0)]):e._e()]),s("div",{staticClass:"col-lg-1"},[s("button",{staticClass:"btn btn-primary",on:{click:function(t){return t.preventDefault(),e.getSeismicValues(t)}}},[e._v("Submit")])])])]),e.feedback?s("div",{staticClass:"alert alert-danger mt-4"},[s("h3",[e._v("Error:")]),s("p",[e._v(e._s(e.feedback))])]):e._e(),e.seismicValues.results?s("div",{staticClass:"displayResults"},[s("GoogleMap",{staticClass:"mt-4",attrs:{id:"google"}}),s("table",{staticClass:"mt-4 table table-bordered table-sm"},[e._m(4),e._l(e.seismicValues.parameters,(function(t,a){return s("tr",{key:a},[s("td",[e._v(e._s(e.query.queryName[a]))]),s("td",[e._v(e._s(t))])])}))],2),s("table",{staticClass:"mt-4 table table-bordered table-sm"},[e._m(5),e._l(e.seismicVars.primary,(function(t,a){return s("tr",{key:t.var},[s("td",{domProps:{innerHTML:e._s(t.var)}}),e.seismicValues.results[a]?s("td",[e._v(e._s(e.seismicValues.results[a]))]):s("td",[e._v(e._s(JSON.stringify(e.seismicValues.results[a]))+" - "+e._s(e.seismicValues.results["fv_note"]))]),s("td",[e._v(e._s(t.description))])])}))],2),s("table",{staticClass:"mt-4 table table-bordered table-sm"},[e._m(6),e._l(e.seismicVars.secondary,(function(t,a){return s("tr",{key:t.var},[s("td",{domProps:{innerHTML:e._s(t.var)}}),e.seismicValues.results[a]?s("td",[e._v(e._s(e.seismicValues.results[a]))]):s("td",[e._v(e._s(JSON.stringify(e.seismicValues.results[a]))+" - "+e._s(e.seismicValues.results["fv_note"]))]),s("td",[e._v(e._s(t.description))])])}))],2)],1):e._e(),s("div",{staticClass:"col-lg-4 mb-2"})])])},h=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-group-prepend"},[s("div",{staticClass:"input-group-text"},[e._v("Reference")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-group-prepend"},[s("div",{staticClass:"input-group-text"},[e._v("Risk Category")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-group-prepend"},[s("div",{staticClass:"input-group-text"},[e._v("Site Class")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-group-prepend"},[s("div",{staticClass:"input-group-text"},[e._v("Project Title")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",{staticClass:"thead-dark"},[s("tr",[s("th",{staticClass:"address"},[e._v("Project Details")]),s("th",[e._v("Value")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",{staticClass:"thead-dark"},[s("tr",[s("th",{staticClass:"type"},[e._v("Type")]),s("th",{staticClass:"value"},[e._v("Value")]),s("th",{staticClass:"description"},[e._v("Description")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("thead",{staticClass:"thead-dark"},[s("tr",[s("th",{staticClass:"type"},[e._v("Type")]),s("th",{staticClass:"value"},[e._v("Value")]),s("th",{staticClass:"description"},[e._v("Description")])])])}],_=(s("7db0"),s("bc3a")),C=s.n(_),q=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},S=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"map"},[s("div",{staticClass:"google-map",attrs:{id:"map"}})])}],k={data:function(){return{}},computed:{seismicValues:function(){return this.$store.state.seismicValues}},methods:{initMap:function(){var e=new window.google.maps.Map(document.getElementById("map"),{center:{lat:this.seismicValues.parameters.latitude,lng:this.seismicValues.parameters.longitude},zoom:14,streetViewControl:!1,gestureHandling:"cooperative"});new window.google.maps.Marker({position:{lat:this.seismicValues.parameters.latitude,lng:this.seismicValues.parameters.longitude},map:e,title:"Hello World!"})}},created:function(){var e=this;this.$store.watch((function(t){return e.$store.state.seismicValues.parameters.latitude}),(function(t,s){e.initMap()}),{deep:!0}),this.$store.watch((function(t){return e.$store.state.seismicValues.parameters.longitude}),(function(t,s){e.initMap()}),{deep:!0})},mounted:function(){this.initMap()}},A=k,w=(s("2080"),Object(c["a"])(A,q,S,!1,null,"3238aa26",null)),V=w.exports,P={components:{GoogleMap:V},data:function(){return{addressDropdown:!1,locationType:"address",feedback:null,query:{params:{reference:"asce7-16",riskCategory:"II",siteClass:"D",latitude:null,longitude:null,title:null},queryName:{address:"Address",referenceDocument:"Reference Document",riskCategory:"Risk Category",siteClass:"Site Class",longitude:"Longitude",latitude:"Latitude",title:"Title"},reference:{options:[{query:"asce7-16",name:"ASCE7-16"},{query:"asce7-10",name:"ASCE7-10"},{query:"asce41-17",name:"ASCE41-17"},{query:"asce41-13",name:"ASCE41-13"},{query:"ibc-2015",name:"IBC-2015"},{query:"ibc-2012",name:"IBC-2012"},{query:"nehrp-2015",name:"NEHRP-2015"},{query:"nehrp-2009",name:"NEHRP-2009"}]},riskCategory:{options:["I","II","III","IV"]},siteClass:{options:[{query:"A",name:"A - Hard Rock"},{query:"B",name:"B - Rock"},{query:"C",name:"C - Very Dense Soil and Soft Rock"},{query:"D",name:"D - Stiff Soil"},{query:"E",name:"E - Soft Clay Soil"},{query:"F",name:"F - Site Response Analysis"}]}},queryAddress:{address:null,addressList:null},seismicVars:{primary:{ss:{description:"MCER ground motion (0.2 s)",var:"<span>S<sub>S</sub></span>"},s1:{description:"MCER ground motion (1.0 s)",var:"<span>S<sub>1</sub></span>"},sms:{description:"Site-modified spectral acceleration value (0.2 s)",var:"<span>S<sub>MS</sub></span>"},sm1:{description:"Site-modified spectral acceleration value (1.0 s)",var:"<span>S<sub>M1</sub></span>"},sds:{description:"Numeric seismic design value (0.2 s)",var:"<span>S<sub>DS</sub></span>"},sd1:{description:"Numeric seismic design value (1.0 s)",var:"<span>S<sub>D1</sub></span>"}},secondary:{cr1:{description:"Mapped value of the risk coefficient at a period of 1 s",var:"<span>C<sub>R1</sub></span>"},crs:{description:"Mapped value of the risk coefficient at short periods",var:"<span>C<sub>RS</sub></span>"},fa:{description:"Site amplification factor (0.2 s)",var:"<span>F<sub>a</sub></span>"},fpga:{description:"Site amplification factor at PGA",var:"<span>F<sub>PGA</sub></span>"},fv:{description:"Site amplification factor (1.0 s)",var:"<span>F<sub>v</sub></span>"},pga:{description:"MCEG peak ground acceleration",var:"<span>PGA</span>"},pgad:{description:"Factored deterministic acceleration value (Peak Ground Acceleration)",var:"<span>PGA<sub>D</sub></span>"},pgam:{description:"Site modified peak ground acceleration",var:"<span>PGA<sub>M</sub></span>"},pgauh:{description:"Uniform-hazard (2% probability of exceedance in 50 years) Peak Ground Acceleration",var:"<span>PGA<sub>UH</sub></span>"},s1d:{description:"Factored deterministic acceleration value (1.0 s)",var:"<span>S<sub>1D</sub></span>"},s1rt:{description:"Probabilistic risk-targeted ground motion (1.0 s)",var:"<span>S<sub>1RT</sub></span>"},s1uh:{description:"Factored uniform-hazard (2% probability of exceedance in 50 years) spectral acceleration (1.0 s)",var:"<span>S<sub>1UH</sub></span>"},sdc:{description:"Seismic design category from SDCS and SDC1",var:"<span>SDC</span>"},ssd:{description:"Factored deterministic acceleration value (0.2 s)",var:"<span>S<sub>SD</sub></span>"},ssrt:{description:"Probabilistic risk-targeted ground motion (0.2 s)",var:"<span>S<sub>SRT</sub></span>"},ssuh:{description:"Factored uniform-hazard (2% probability of exceedance in 50 years) spectral acceleration (0.2 s)",var:"<span>S<sub>SUH</sub></span>"},tl:{description:"Long-period transition period in seconds",var:"<span>T<sub>L</sub></span>"}}}}},computed:{seismicValues:function(){return this.$store.state.seismicValues}},methods:{getSeismicValues:function(){return this.feedback=null,"coordinates"!==this.locationType||this.query.params.latitude&&this.query.params.longitude?this.query.params.reference&&this.query.params.riskCategory&&this.query.params.siteClass&&this.query.params.latitude&&this.query.params.longitude?"F"===this.query.params.siteClass?(this.feedback="A site response analysis shall be performed in accordance with ASCE/SEI 7 section 21.1 for structures on Site Class F sites. If your structure is exempted under ASCE/SEI 7 Section 20.3.1, select a substitute site class.",void this.$store.commit("resetSeismicValues")):void this.$store.dispatch("calcSeismicValues",{queryParams:this.query.params,queryAddress:this.queryAddress.address}):(this.feedback="Please fill in all required fields.",void this.$store.commit("resetSeismicValues")):(this.feedback="Please fill in the latitude and longitude fields.",void this.$store.commit("resetSeismicValues"))},getLatLong:function(){var e=this;this.addressDropdown=!1,this.queryAddress.address?(this.addressDropdown=!0,C.a.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:this.queryAddress.address,key:"AIzaSyD85znGpumn-7y-Bffdf_NLcn_JP4JYQao"}}).then((function(t){e.queryAddress.addressList=t.data.results})).catch((function(e){return console.error(e)}))):this.queryAddress.addressList=null},selectAddress:function(e){var t=this;this.queryAddress.address=e.target.innerHTML;var s=this.queryAddress.addressList.find((function(e){return e.formatted_address===t.queryAddress.address}));this.query.params.latitude=s.geometry.location.lat,this.query.params.longitude=s.geometry.location.lng,this.addressDropdown=!1}}},x=P,E=(s("401a"),Object(c["a"])(x,b,h,!1,null,"48035b98",null)),$=E.exports;a["a"].use(g["a"]);var D=[{path:"/",name:"home",component:$}],R=new g["a"]({mode:"history",base:"/",routes:D}),L=R,O=(s("99af"),s("b0c0"),s("96cf"),s("1da1")),M=s("2f62");a["a"].use(M["a"]);var j=new M["a"].Store({strict:!0,state:{isAuthenticated:!1,user:{name:null,email:null},token:null,status:null,seismicValues:{parameters:null,results:null}},mutations:{resetSeismicValues:function(e){e.seismicValues.results=null},calcSeismicValues:function(e,t){e.seismicValues.parameters=t.res.data.request.parameters,e.seismicValues.parameters.referenceDocument=t.res.data.request.referenceDocument,e.seismicValues.parameters.address=t.address,e.seismicValues.results=t.res.data.response.data},updateAuth:function(e,t){e.user.name=t.data.user.name,e.user.email=t.data.user.email,e.token=t.token,e.status=t.status}},actions:{calcSeismicValues:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.next=2,C()({method:"get",url:"https://earthquake.usgs.gov/ws/designmaps/".concat(t.queryParams.reference,".json?latitude=").concat(t.queryParams.latitude,"&longitude=").concat(t.queryParams.longitude,"&riskCategory=").concat(t.queryParams.riskCategory,"&siteClass=").concat(t.queryParams.siteClass,"&title=").concat(t.queryParams.title)}).then((function(s){e.commit("calcSeismicValues",{res:s,address:t.queryAddress})})).catch((function(e){console.error(e)}));case 2:case"end":return s.stop()}}),s)})))()},authRequestLogin:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,C.a.post("".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API,"/api/v1/users/login"),t,{withCredentials:!0});case 3:a=s.sent,e.commit("updateAuth",a.data),L.push({name:"home"}),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](0),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))()},authRequestSignup:function(e,t){return Object(O["a"])(regeneratorRuntime.mark((function s(){var a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,C.a.post("".concat(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_API,"/api/v1/users/signup"),t,{withCredentials:!0});case 3:a=s.sent,e.commit("updateAuth",a.data),L.push({name:"home"}),s.next=11;break;case 8:s.prev=8,s.t0=s["catch"](0),console.log(s.t0);case 11:case"end":return s.stop()}}),s,null,[[0,8]])})))()}},modules:{}});s("4989"),s("ab8b");a["a"].config.productionTip=!1,new a["a"]({router:L,store:j,render:function(e){return e(y)}}).$mount("#app")},"85ec":function(e,t,s){},"8e3b":function(e,t,s){},a906:function(e,t,s){}});
//# sourceMappingURL=app.003073d8.js.map